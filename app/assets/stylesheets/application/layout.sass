// typography
.badge
    --bs-badge-font-weight: normal
    font-family: $font
    font-size: 16px
    
// colors
.bg-form
    background: $color-light-pink
h2,
h3
    color: $color-dark-blue

.bg-secondary
    @extend .text-black

// animation
@keyframes infinite-rotation
    0%
        -webkit-transform: translateY(-40%) rotate(0deg)
        -o-transform: translateY(-40%) rotate(0deg)
        transform: translateY(-40%) rotate(0deg)
    100%
        -webkit-transform: translateY(-40%) rotate(360deg)
        -o-transform: translateY(-40%) rotate(360deg)
        transform: translateY(-40%) rotate(360deg)

// layout
.hero
    background: $color-dark-blue
    *
        color: $color-white
    h1
        color: $color-white !important
        font-family: $font-kaio
        span
            color: $color-black !important
            background: $color-pink
            padding: 5px 30px
            border-radius: 50px
            display: inline-block
            transform: rotate(-1deg) 
            &:nth-of-type(2)
                background: $color-yellow
                transform: rotate(1deg)
        @include media-breakpoint-down(md)
            padding-bottom: map-get($spacers, 3)

.navbar
    background: $color-dark-blue
    @include media-breakpoint-up(lg)
        padding-top: 20px
        padding-bottom: 130px
        @include media-breakpoint-down(xxl)
            > .container
                flex-wrap: wrap
                .collapse
                    justify-content: start !important
    .navbar-nav
        @extend .gap-lg-3
        @extend .align-items-baseline
        @include media-breakpoint-down(lg)
            padding-top: map-get($spacers, 3)
        @include media-breakpoint-down(md)
            > li
                padding-right: map-get($spacers, 1)
                width: 100%
    .nav-item > a
        color: $color-white !important
    .dropdown
        li
            @extend .mx-3
            a
                @extend .py-3
                text-align: center
            + li
                border-top: 0.5px solid $color-text-alt
        &-menu
            --bs-dropdown-link-hover-bg: transparent
            --bs-dropdown-link-active-bg: transparent
            --bs-dropdown-link-active-color: #{$color-black}
        &-item
            --bs-dropdown-link-color: #{$color-text-alt}
            @include media-breakpoint-down(md)
                font-size: $meta-font-size
        &-toggle
            @include icon(chevron, after)
            &::after
                @extend .ms-2
                border: none
                transform: rotate(90deg)
                transition: transform 0.3s ease
            &[aria-expanded="true"]::after
                transform: rotate(270deg)
    .navbar-brand
        img
            height: 40px
            @include media-breakpoint-up(lg)
                height: 60px
    .header-cta
        position: relative
        a,
        &::before,
        &::after
            --bs-btn-border-width: 0px
            background-color: $color-white !important
            color: $color-dark-blue !important
        a
            @extend .stretched-link
            &.active
                --bs-btn-active-bg: #{$color-white}
        &::before,
        &::after
            transform: transformX(0%) rotate(180deg)
        @include media-breakpoint-down(lg)
            margin-top: map-get($spacers, 3)

.banner
    @extend .py-2
    @extend .px-4
    p
        margin-bottom: 0
        margin-left: auto
        margin-right: auto
        text-align: center
        @include media-breakpoint-up(lg)
            max-width: 70%
    &--header
        font-family: $font-kaio
        background: $color-yellow

.breadcrumb
    --bs-breadcrumb-item-active-color:#{$color-white}
    .breadcrumb-item
        a
            text-decoration: none
        + .breadcrumb-item
            --bs-breadcrumb-divider-color: #{$color-white}
            @include icon(arrow, before)
            &::before
                font-size: $meta-font-size
                float: unset
                vertical-align: baseline

.toc
    text-align: left !important
    z-index: 2
    > div
        top: map-get($spacers, 3)
    .toc-title
        color: $color-black
        font-size: $font-size-base
        font-family: $font
    ul
        padding: 0
        list-style-type: none
        li
            margin-bottom: 5px
            + li
                @extend .mt-2
            a
                @include icon(arrow, before)
                text-decoration: none
                color: $color-dark-blue
                &::before
                    font-size: 14px
                    margin-right: map-get($spacers, 1)
                    transition: transform 0.3s ease
                    vertical-align: baseline
                    @include media-breakpoint-up(md)
                        font-size: $meta-font-size
                &:hover
                    &::before
                        transform: rotate(-45deg)
    @include media-breakpoint-down(lg)
        margin-bottom: map-get($spacers, 4)
    @include media-breakpoint-down(md)
        background: $color-light-blue
        margin-top: -(map-get($spacers, 2))
        padding-top: map-get($spacers, 3)
        &, .toc-title
            font-size: $meta-font-size



footer
    background-color: $color-light-blue
    .footer-about
        h2
            font-size: 3.125rem
            @include media-breakpoint-up(md)
                font-size: 6.25rem
            @include media-breakpoint-up(lg)
                font-size: 5.625rem
            @include media-breakpoint-up(xl)
                font-size: 5.625rem
            @include media-breakpoint-up(xxl)
                font-size: 6.25rem
        .summary
            @extend .h4
        h2,
        .summary
            color: $color-dark-blue
    .shortcode__partners
        padding-left: map-get($spacers, 2)
        padding-right: map-get($spacers, 2)
        @include media-breakpoint-up(md)
            padding-left: map-get($spacers, 7)
            padding-right: map-get($spacers, 7)
    .footer-menu
        @extend .text-white
        background-color: $color-dark-blue
        div > .navbar-nav
            @extend .row
            @extend .flex-md-row
            > .nav-item
                @extend .col-md-6
                @extend .col-lg-4
                > a
                    @extend .h5
                @include media-breakpoint-down(lg)
                    margin-bottom: map-get($spacers, 3)
        a
            @extend .text-white
            text-decoration: none
            &:hover
                text-decoration: underline
    .footer-legal
        @extend .d-lg-flex
        @extend .gap-3
    .footer-socials
        @extend .d-flex
        @extend .gap-2
        a
            @extend .d-flex
            @extend .align-items-center
            @extend .justify-content-center
            @extend .border
            @extend .border-white
            @extend .rounded-pill
            aspect-ratio: 1
            font-family: $font
            height: 44px
            width: 44px
            span
                + span
                    @extend .visually-hidden
            &:hover
                background-color: $color-light-blue 
                color: $color-dark-blue !important
                text-decoration: none

section 
    h2
        margin-bottom: 3.125rem
    + section
        margin-top: 3rem
        @include media-breakpoint-up(md)
            margin-top: 7rem

// components
hr
    border-top: 2px dotted $color-dark-blue
    opacity: 1
form
    label
        font-size: $meta-font-size
    input:not([type="submit"])
        border-radius: 10px !important
    .form-control
        font-size: 16px

.btn-outline-dark
    border: 1px solid $color-black
    color: $color-black
    &:hover
        background-color: $color-black
        &, a
            color: $color-white !important

.btn-dark
    @extend .btn
    --bs-btn-border-radius: var(--bs-border-radius-pill)
    background-color: $color-black
    color: $color-light-blue
    &:hover
        background-color: $color-white
        border-color: $color-black
        color: $color-black

.btn-light
    @extend .btn
    @extend .px-3
    --bs-btn-border-radius: var(--bs-border-radius-pill)
    background-color: $color-white
    color: $color-dark-blue
    &:hover,
    &:active
        background-color: $color-light-blue
        border-color: transparent
        color: $color-dark-blue

.btn-icon
    @include icon(arrow, before)
    @include icon(arrow, after)
    align-items: center
    display: flex
    position: relative
    text-decoration: none
    span,
    input,
    a
        @extend .px-4
        height: 50px
        line-height: 100%
        z-index: 2
    span,
    input,
    a,
    &::before,
    &::after
        @extend .btn
        @extend .btn-primary
        @extend .rounded-pill
        align-items: center
        display: flex
        transition: all 0.5s ease
    &::before,
    &::after
        height: 50px
        display: flex
        justify-items: center
        transform-origin: center
        transition: all 0.5s ease
        width: 50px
        z-index: 1
    &::after
        transform: translateX(0%) rotate(-180deg)
    &::before
        position: absolute
        opacity: 0
        transform: translateX(100%) rotate(180deg)
    &:hover
        span,
        input,
        a
            transform: translateX(50px) rotate(0deg)
        &::after
            transform: translateX(-100%) rotate(-180deg)
        &::before
            opacity: 1
            transform: translateX(0) rotate(0deg)

.accordion
    &-button
        @include icon(chevron, after)
        &::after
            background: none !important
            transform: rotate(90deg)
            transition: none
        &[aria-expanded="true"]::after
            transform: rotate(270deg)

.card
    &--problem
        --bs-card-border-width: 0
        --bs-card-border-radius: 40px
        height: 100%
        padding: 2px
        > .card-content 
            background: var(--bs-body-bg)
            border-radius: var(--bs-card-border-radius)
            display: flex
            flex-direction: column
            height: 100%
            position: relative
            transition: transform 0.3s ease
            z-index: 2
        picture
            display: block
            margin: -2px
            width: calc(100% + 4px)
            img
                border-radius: var(--bs-card-border-radius) !important
        .card-body
            @extend .pt-4
            display: flex
            flex-direction: column
            > div
                margin-top: auto !important
            .card-date
                font-size: $meta-font-size
        .badge-step
            position: absolute
            top: map-get($spacers, 3)
            left: map-get($spacers, 3)
        &::before
            background: $color-light-blue
            border-radius: var(--bs-card-border-radius)
            bottom: 0
            content: ''
            height: 100%
            left: 0
            position: absolute
            width: 100%
            z-index: 0
        &:hover .card-content
            transform: translateY(-(map-get($spacers, 2)))
    .problem__thumb
        aspect-ratio: 1.3304
        object-fit: cover
        filter: grayscale(1)
    &:hover .problem__thumb
        filter: grayscale(0)

// home
.list-missions
    .mission
        border-left-color: $color-light-blue !important
        border-left-width: 2px !important
        h2
            @extend h3
            color: $color-dark-blue
        span
            font-size: 1.25rem
            color: $color-pink
        p
            margin-bottom: 0

// page show
.page-content
    * + h2
        @extend .mb-4

.reports h2
    span
        @extend .ms-1
        display: inline-block
        position: relative
        &::before
            @extend .rounded-pill
            background-color: $color-green
            bottom: -4px
            content: ''
            left: -8px
            position: absolute
            right: -8px
            top: -4px
            transform: rotate(-2deg)
            z-index: -1

.report-form
    .card
        --bs-card-border-radius: 40px
        position: relative
        .animated-icon
            height: 80px
            width: 80px
            position: absolute
            top: 0
            right: 40px
            transform: translateY(-40%)
            animation: infinite-rotation 16s linear infinite
        @include media-breakpoint-up(md)
            --bs-card-border-radius: 80px
            .animated-icon
                height: 100px
                width: 100px
        @include media-breakpoint-down(md)
            padding-top: map-get($spacers, 4)

    form
        h3
            @extend .mb-4
            &:not(:first-of-type)
                @extend .mt-5
        input
            font-size: 1rem
        .group
            column-gap: map-get($spacers, 4)
            row-gap: map-get($spacers, 3)
        .campaign-details
            > div
                @extend .mb-0
                + div
                    @extend .mt-3
        // checkboxes as buttons
        .form-check
            @extend .ps-0
            .form-check-label
                border: none
                cursor: pointer
                line-height: 1
            input
                @extend .visually-hidden
                &:checked + label
                    background-color: $color-dark-blue !important
                    color: $color-white !important
    .form-details
        font-size: 16px

// problem show
.problem-presentation
    position: relative
    .problem-content
        h2
            font-size: 2rem
        h3
            @extend .h4
        h4
            @extend .h5
        p + h3
           @extend .pt-3
    .problem-categories
        > li + li
            @include media-breakpoint-down(lg)
                margin-top: map-get($spacers, 3)
    .badge-step
        top: map-get($spacers, 3)
        left: map-get($spacers, 4)
        position: absolute
    @include media-breakpoint-down(md)
        div + div
            padding-top: map-get($spacers, 4)
.report-list
    background-color: $color-light-green
    margin-bottom: -(map-get($spacers, 5))
    .meta
        font-size: 16px

// search
.faceted__facets
    .faceted__facet__text
        @extend .d-flex
        @extend .gap-2
        @extend .my-4
        input[type="search"]
            --bs-border-width: 0
            background-color: $color-light-blue
        input[type="submit"]
            color: $color-light-blue
            background-color: $color-dark-blue
            &:hover
                color: $color-dark-blue
                background-color: $color-light-blue
    .faceted__facet__list
        @extend .d-flex
        @extend .align-items-baseline
        @extend .flex-wrap
        @extend .gap-2
        > li:first-of-type
            padding-top: map-get($spacers, 2)
        .faceted__facet__list__value a
            @extend .btn
            @extend .btn-sm
            @extend .btn-outline-dark
            @extend .text-black
            @extend .rounded-pill
    .faceted__facet__reinit a
        @extend .btn-dark
        @extend .mt-4
        @extend .px-3

// facets accordions
.search-filters.accordion
    --bs-accordion-color: $color-blue
    --bs-accordion-bg: $color-white
    --bs-accordion-border-color: transparent
    --bs-accordion-border-width: 0
    --bs-accordion-border-radius: 0
    --bs-accordion-inner-border-radius: 0
    --bs-accordion-btn-padding-x: 0
    --bs-accordion-btn-padding-y: 0
    --bs-accordion-btn-focus-border-color: $color-blue
    --bs-accordion-btn-focus-box-shadow: none
    --bs-accordion-active-color: $color-black
    --bs-accordion-active-bg: $color-blue
