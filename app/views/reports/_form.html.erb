<%= simple_form_for(@report) do |f| %>
  <%= f.error_notification %>
  <%= f.error_notification message: f.object.errors[:base].to_sentence if f.object.errors[:base].present? %>

  <h3 class="h4"><%= t('front.report_form.fields.campaigns.title') %></h3>
  <div class="campaign-details">
    <%= f.input :brand %>
    <%= f.input :link %>
    <%= f.input :files %>
  </div>

  <% Taxonomy.for_reports.each do |taxonomy| %>
    <h3 class="h4"><%= taxonomy %></h3>
    <div class="group mb-3 d-flex gap-3 flex-wrap">
      <% taxonomy.categories.ordered.each do |category| %>
        <div class="form-check">
          <input  class="form-check-input"
                  type="checkbox" 
                  value="<%= category.id %>"
                  name="report[category_ids][]"
                  id="report_<%= taxonomy.id %>_<%= category.id %>">
          <label  class="form-check-label btn rounded-pill bg-white text-black px-3 py-2"
                  for="report_<%= taxonomy.id %>_<%= category.id %>">
            <%= category %>
          </label>
        </div>
      <% end %>
    </div>
  <% end %>

  <h3 class="h4"><%= t('front.report_form.fields.description.title') %></h3>
  <%= f.input :description, placeholder: t('front.report_form.fields.description.placeholder'), input_html: { rows: 6 } %>

  <h3 class="h4"><%= t('front.report_form.fields.identification.title') %></h3>
  <div class="row">
    <div class="col-lg-6">
      <%= f.input :author_pseudonym %>
    </div>
    <div class="col-lg-6">
      <%= f.input :author_email %>
    </div>
  </div>

  <%= f.button :submit, 'Envoyer', class: 'btn-icon' %>

  <div class="form-details mt-5">
    <p class="visually-hidden"><%= t('front.report_form.fields.more') %></p>
    <ol class="ps-3">
      <% t('front.report_form.details.informations').each do |information| %>
        <li><%= information %></li>
      <% end %>
    </ol>
  </div>
<% end %>
